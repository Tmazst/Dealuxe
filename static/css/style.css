:root{
    /* Theme variables - tweak these to change the whole UI */
    --bg-1: #1a0836;
    --bg-2:   #2e0b4f;
    --accent-1: #8b5cf6; /* purple */
    --accent-2: #ffe46b; /* pink */
    --glass: rgba(255,255,255,0.06);
    --glass-strong: rgba(255,255,255,0.08);
    --card-bg: #0f1724;
    --card-face: #ffffff;
    --muted: rgba(255,255,255,0.7);
    --success: #3ee6b5;
}

*{box-sizing:border-box}

html,body{
    height:100%;
    margin:0;
    padding:0;
    font-family: "Segoe UI", Roboto, Arial, sans-serif;
    background: radial-gradient(1000px 6000px at 10% 10%, var(--bg-2)  0%, transparent 30%),
                radial-gradient(200px 5000px at 90% 90%,#2e0b4f  0%, transparent 30%),
                linear-gradient(180deg, var(--bg-1), #07020a);
    /* background: red; */
    color:var(--card-face);
    width:100%
}

.brand{
    font-family: Oswald, sans-serif;
}
/* rgba(10,6,24,0.6) */
/* Top header */
.site-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:18px 28px;
    gap:16px;
}

.brand{
    font-weight:700;
    letter-spacing:1px;
    font-size:18px;
    color:var(--accent-1);
}

.controls{display:flex;gap:10px}
.btn{
    background:#0ec387 ;
    color:#202020;
    padding:10px 14px;
    border-radius:15px;
    font-family: Oswald, sans-serif;
    border:none;
    cursor:pointer;
    box-shadow:0 6px 18px rgba(139,92,246,0.15);
}
.btn:hover{transform:translateY(-2px)}

.btn-glass{
    color:rgba(139,92,246,0.9);
    padding:7px 14px;
    border-radius:15px;
    font-family: Oswald, sans-serif;
    font-weight: 600;
    cursor:pointer;
    /* box-shadow:0 6px 18px rgba(139,92,246,0.15);    */
}
/* Main layout: left game area, right leaderboard */
/* .app-grid{
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:24px;
    max-width:1200px;
    margin:24px auto;
    padding:0 20px 40px;
} */
.app-grid{
    gap:24px;
    max-width:1200px;
    margin:24px auto;
    padding:0 20px 40px; 
    width:100%;
    /* justify-content: flex-end;  */
    align-items: flex-start !important; 
    height: 100vh;
    overflow: hidden;
}

@media (max-width: 1000px) {
        .app-grid{
 
            flex-wrap: wrap;
        }
        .leaderboard{
            max-width: 1000px !important;
        }
}

.leaderboard{
    max-width: 400px;
}

.panel{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:16px;
    padding:18px;
    box-shadow: 0 10px 30px rgba(4,4,8,0.6);
    border: 1px solid rgba(255,255,255,0.04);
    /* overflow: auto; */
    width:100%;
}

/* Game table */
.game-table{
    position:relative;
    height:420px;
    display:flex;
    align-items:center;
    justify-content:center;
    width: 100%;
    flex-direction: column;
    /* overflow:auto; */
}

.table-stage{
    width:100%;
    max-width:820px;
    height:100%;
    position:relative;
}
.score{
    gap:0px !important;
}
/* .attack-pile-cont{
    position:absolute;
    top:18%;
    left:50%;
    transform:translate(-50%,-50%);
    width: 100%;
} */
 .attack-pile-cont{

    width: 100%;
 }
/* Attack pile centered with subtle glass */
.attack-pile{
    position: relative;
    width:220px;
    height:100px;
    border-radius:14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.08);
    display:flex;
    flex-direction:row;
    gap:8px;
    align-items:center;
    justify-content:center;
    padding:8px;
    pointer-events:none;
}
.game-table{
    gap:20px
}
.cont-narrative{
    /* margin-top: -55px; */
    width: 100% !important;
    /* background-color: #3ee6b5; */
    min-width: 300px;
    margin-left: auto !important;
    margin-right: auto !important;
}
.gen-flex{
    display:flex;align-items:center;justify-content:center;gap:8px
}
.gen-flex-col{
    display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px
}

/* Cards container (player cards) */
#player-cards{
    position: relative;
    height: 170px;
    width: max-content;
    min-width: 100%;
    display: block;
    pointer-events: auto;
    background: none !important;
}

.attack-confirm-actions .caption{
    color:#202020;
}

.ambience{
    background: rgba(29, 12, 68, 0.6);
    border:2px solid rgba(255, 209, 209, 0.09);  
    border-color: rgba(139,92,246,0.9);
    box-shadow: 0 0 28px rgba(139,92,246,0.1), 0 0 60px rgba(139,92,246,0.30);
}

.game-over-modal-cont{
    position: fixed;
    top:0;left:0;right:0;bottom: 0;
    background-color: rgba(26, 8, 54,0.8);
    z-index: 1999;
    backdrop-filter: blur(10px);
    display: none;
}

.game-over-modal{
    position:absolute;
    top:50%;left:50%;
    transform: translate(-50%,-50%);
    width:95%;
    max-width: 500px;
    min-height: 400px;
    z-index: 2000;
    border-radius: 20px;
    display: none;
    padding: 30px;
    overflow: auto;
    max-height: 90vh;
    background: linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(59,130,246,0.15) 100%);
    border: 2px solid rgba(139,92,246,0.3);
    box-shadow: 0 20px 60px rgba(0,0,0,0.5), 0 0 80px rgba(139,92,246,0.2);
}

.game-over-header {
    text-align: center;
    margin-bottom: 30px;
}

.game-over-icon {
    font-size: 64px;
    color: #fbbf24;
    margin-bottom: 15px;
    animation: trophy-bounce 1s ease-in-out infinite;
}

@keyframes trophy-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.game-over-title {
    font-size: 36px;
    font-weight: bold;
    margin: 0;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.game-over-content {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.winner-info {
    text-align: center;
}

.winner-badge {
    font-size: 28px;
    font-weight: bold;
    padding: 15px 30px;
    border-radius: 50px;
    margin-bottom: 15px;
    display: inline-block;
}

.winner-badge.player-win {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    box-shadow: 0 0 30px rgba(16,185,129,0.5);
}

.winner-badge.opponent-win {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    box-shadow: 0 0 30px rgba(239,68,68,0.5);
}

.win-type {
    font-size: 20px;
    font-weight: 600;
    padding: 10px 20px;
    border-radius: 10px;
    display: inline-block;
    background: rgba(139,92,246,0.2);
    border: 1px solid rgba(139,92,246,0.4);
}

.win-type.dealuxe-win {
    background: rgba(245,158,11,0.2);
    border-color: rgba(245,158,11,0.6);
    color: #fbbf24;
}

.win-type.escape-win {
    background: rgba(59,130,246,0.2);
    border-color: rgba(59,130,246,0.6);
    color: #60a5fa;
}

.win-type.crazy-win {
    background: rgba(236,72,153,0.2);
    border-color: rgba(236,72,153,0.6);
    color: #ec4899;
}

.win-type.trail-win {
    background: rgba(168,85,247,0.2);
    border-color: rgba(168,85,247,0.6);
    color: #a855f7;
}

.game-stats {
    background: rgba(0,0,0,0.3);
    border-radius: 15px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 16px;
}

.stat-label {
    color: rgba(255,255,255,0.7);
}

.stat-value {
    font-weight: bold;
    font-size: 20px;
    color: #60a5fa;
}

.new-game-btn {
    padding: 15px 40px;
    font-size: 18px;
    font-weight: bold;
    border-radius: 50px;
    background: linear-gradient(135deg, rgba(139,92,246,0.8), rgba(59,130,246,0.8));
    border: 2px solid rgba(139,92,246,0.5);
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
}

.new-game-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 30px rgba(139,92,246,0.6);
}

.show-game-over{
    display:flex;
}

/* Prize display in game over modal */
.prize-display {
    background: linear-gradient(135deg, rgba(251,191,36,0.2), rgba(245,158,11,0.2));
    border: 2px solid rgba(251,191,36,0.5);
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 20px;
    text-align: center;
    animation: prize-shine 2s ease-in-out infinite;
}

@keyframes prize-shine {
    0%, 100% {
        box-shadow: 0 0 20px rgba(251,191,36,0.3);
    }
    50% {
        box-shadow: 0 0 40px rgba(251,191,36,0.6), 0 0 60px rgba(245,158,11,0.4);
    }
}

.prize-amount {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    font-size: 32px;
    font-weight: 900;
    color: #fbbf24;
    text-shadow: 0 0 20px rgba(251,191,36,0.8);
    margin-bottom: 8px;
}

.prize-amount i {
    font-size: 36px;
    animation: coin-spin 3s linear infinite;
}

@keyframes coin-spin {
    0%, 100% { transform: rotateY(0deg); }
    50% { transform: rotateY(180deg); }
}

.prize-label {
    color: rgba(251,191,36,0.8);
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.balance-summary {
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    padding: 15px;
    margin-top: 15px;
    margin-bottom: 15px;
}

.balance-summary-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 16px;
}

.balance-summary-row span:first-child {
    color: rgba(255,255,255,0.7);
}

.balance-summary-row span:last-child {
    font-weight: bold;
    font-size: 20px;
    color: #60a5fa;
}

/* Responsive modals */
@media (max-width: 600px) {
    .game-start-modal, .game-over-modal {
        width: 98%;
        padding: 25px 20px;
        max-height: 95vh;
    }
    
    .game-start-modal h2 {
        font-size: 32px;
    }
    
    .game-over-title {
        font-size: 28px;
    }
    
    .prize-amount {
        font-size: 24px;
    }
    
    .game_start_btn .btn {
        font-size: 18px;
    }
}

/* Game start modal (same styling as game over modal but visible by default) */
.game-start-modal-cont {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(10, 4, 25, 0.97);
    z-index: 2500;
    backdrop-filter: blur(12px);
    display: flex;
    align-items: center;
    justify-content: center;
}

.game-start-modal {
    width: 95%;
    max-width: 550px;
    min-height: 400px;
    border-radius: 24px;
    padding: 35px;
    padding-top: 250px;
    overflow: auto;
    max-height: 90vh;
    background: linear-gradient(135deg, rgba(75, 40, 150, 0.4) 0%, rgba(30, 64, 175, 0.4) 50%, rgba(150, 40, 100, 0.4) 100%);
    border: 3px solid rgba(139,92,246,0.6);
    box-shadow: 0 30px 80px rgba(0,0,0,0.9), 0 0 100px rgba(139,92,246,0.5), inset 0 0 60px rgba(0,0,0,0.3);
    position: relative;
    animation: modal-entrance 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes modal-entrance {
    0% {
        opacity: 0;
        transform: scale(0.8) translateY(-50px);
    }
    100% {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.game-start-modal::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #8b5cf6, #3b82f6, #ec4899, #8b5cf6);
    border-radius: 24px;
    z-index: -1;
    filter: blur(20px);
    opacity: 0.5;
    animation: glow-pulse 3s ease-in-out infinite;
}

@keyframes glow-pulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.8; }
}

.game-start-modal h2 {
    font-size: 42px;
    font-weight: 900;
    margin: 0 0 8px 0;
    color: #fff;
    text-shadow: 0 0 30px rgba(139,92,246,0.8), 0 0 60px rgba(59,130,246,0.6);
    letter-spacing: 2px;
    animation: title-glow 2s ease-in-out infinite;
}

@keyframes title-glow {
    0%, 100% { text-shadow: 0 0 30px rgba(139,92,246,0.8), 0 0 60px rgba(59,130,246,0.6); }
    50% { text-shadow: 0 0 40px rgba(139,92,246,1), 0 0 80px rgba(59,130,246,0.8); }
}

.game-start-modal small {
    color: rgba(255,255,255,0.7);
    margin-bottom: 12px;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.game-start-modal h5 {
    color: #fbbf24;
    margin: 12px 0 20px 0;
    font-size: 16px;
    font-weight: 700;
    text-shadow: 0 0 20px rgba(251,191,36,0.5);
}

.game-start-modal .group {
    margin-bottom: 15px;
}

.game-start-modal .acc-labels {
    color: rgba(255,255,255,0.8);
    font-size: 14px;
    margin-bottom: 5px;
}

.game-start-modal .form-control {
    width: 100%;
    padding: 12px 15px;
    border-radius: 12px;
    background: rgba(255,255,255,0.08);
    border: 2px solid rgba(139,92,246,0.3);
    color: #fff;
    font-size: 15px;
    transition: all 0.3s ease;
    box-shadow: inset 0 2px 8px rgba(0,0,0,0.3);
}

.game-start-modal .form-control:focus {
    outline: none;
    border-color: rgba(139,92,246,0.8);
    background: rgba(255,255,255,0.15);
    box-shadow: 0 0 20px rgba(139,92,246,0.4), inset 0 2px 8px rgba(0,0,0,0.3);
    transform: translateY(-2px);
}

.game_start_btn {
    width: 100%;
    margin-top: 25px;
    padding: 18px 0;
    background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(139,92,246,0.4);
    min-height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.game_start_btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255,255,255,0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.game_start_btn:hover::before {
    width: 300px;
    height: 300px;
}

.game_start_btn:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 15px 40px rgba(139,92,246,0.6), 0 0 40px rgba(59,130,246,0.4);
}

.game_start_btn:active {
    transform: translateY(-2px) scale(0.98);
}

.game_start_btn .btn {
    margin: 0;
    color: #fff;
    font-weight: 800;
    font-size: 20px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    position: relative;
    z-index: 1;
}

/* Player balance display in game start modal */
.player-balance-display {
    background: rgba(0,0,0,0.5);
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    border: 1px solid rgba(139,92,246,0.5);
}

.player-balance-display .balance-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
}

.player-balance-display .balance-label {
    color: rgba(255,255,255,0.7);
    font-size: 14px;
}

.player-balance-display .balance-value {
    color: #60a5fa;
    font-weight: bold;
    font-size: 16px;
}

.player-balance-display .balance-value.expired {
    color: #ef4444;
    text-decoration: line-through;
}

.player-balance-display .balance-note {
    margin-top: 10px;
    padding: 8px;
    background: rgba(239,68,68,0.2);
    border: 1px solid rgba(239,68,68,0.4);
    border-radius: 6px;
    color: #fca5a5;
    font-size: 12px;
    text-align: center;
}

.player-balance-display .balance-disclaimer {
    margin-top: 5px;
    color: rgba(255,255,255,0.5);
    font-size: 11px;
    font-style: italic;
    text-align: center;
}

.game-start-modal .bet-caption {
    color: rgba(139,92,246,0.9);
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 8px;
    text-align: center;
}

.bet-balance-display {
    margin-top: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.4);
    border-radius: 8px;
    border: 1px solid rgba(139,92,246,0.4);
}

.bet-balance-display .balance-info-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
    font-size: 13px;
}

.bet-balance-display .balance-info-row span:first-child {
    color: rgba(255,255,255,0.6);
}

.bet-balance-display .balance-info-row span:last-child {
    font-weight: bold;
    color: #60a5fa;
}

.bet-balance-display .remaining-balance {
    transition: color 0.3s ease;
}

/* Hand glow states */
#player-cards.hand-attack{ 
    box-shadow: 0 0 0 rgba(255,0,0,0.0);
    animation: hand-attack-flash 1600ms ease-in-out infinite;
    background-color: rgba(244, 3, 3, 0) !important;
    /* border-radius: 14px; */
}
#player-cards.hand-draw{
    box-shadow: 0 0 36px rgba(34,197,94,0.35), 0 0 12px rgba(34,197,94,0.25);
    border: 1px solid rgba(34,197,94,0.22);
    border-radius: 14px;
}

/* Raised card for attack (click-to-raise mechanism) - just highlight, no pull-up */
.card.raised {
    box-shadow: 0 0 0 4px rgba(139,92,246,0.9), 0 0 30px rgba(139,92,246,0.7), 0 0 60px rgba(255,107,203,0.5) !important;
    border-color: rgba(255,255,255,0.9) !important;
    /* z-index: 1000 !important; */
    animation: raised-pulse 1.5s ease-in-out infinite;
    transition: all 0.3s ease;
    transform: scale(0.9);
}

@keyframes raised-pulse {
    0%, 100% { 
        box-shadow: 0 0 0 4px rgba(139,92,246,0.9), 0 0 30px rgba(139,92,246,0.7), 0 0 60px rgba(255,107,203,0.5);
    }
    50% { 
        box-shadow: 0 0 0 6px rgba(139,92,246,1), 0 0 40px rgba(139,92,246,0.9), 0 0 80px rgba(255,107,203,0.7);
    }
}

/* Push button for attack */
.push-attack-btn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 24px;
    background: linear-gradient(135deg, rgba(139,92,246,0.9), rgba(255,107,203,0.8));
    border: 2px solid rgba(255,255,255,0.2);
    border-radius: 12px;
    color: white;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    z-index: 999;
    z-index:1005;
    display: none;
    box-shadow: 0 8px 24px rgba(139,92,246,0.5), 0 0 20px rgba(255,107,203,0.3);
    transition: all 0.3s ease;
    animation: slideUpButton 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.push-attack-btn:hover {
    transform: translateX(-50%) translateY(-2px);
    box-shadow: 0 12px 32px rgba(139,92,246,0.7), 0 0 30px rgba(255,107,203,0.5);
    background: linear-gradient(135deg, rgba(139,92,246,1), rgba(255,107,203,0.9));
}

.push-attack-btn:active {
    transform: translateX(-50%) translateY(0);
}

@keyframes slideUpButton {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes hand-attack-flash{
    0%   { box-shadow: 0 0 12px rgba(255,99,71,0.25), 0 0 28px rgba(255,99,71,0.20); }
    50%  { box-shadow: 0 0 28px rgba(255,99,71,0.45), 0 0 60px rgba(255,0,0,0.30); }
    100% { box-shadow: 0 0 12px rgba(255,99,71,0.25), 0 0 28px rgba(255,99,71,0.20); }
}

.card{
    position:absolute;
    bottom:0;
    width:120px;
    height:170px;
    background: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,1));
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.3);
    box-shadow: 0 12px 40px rgba(2,2,6,0.7);
    cursor:pointer;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    padding:10px;
    color:rgb(36, 36, 36);
    transition: transform 0.18s ease, box-shadow 0.18s ease;
    touch-action:none;
}

/* Pile cards should flow horizontally inside .attack-pile instead of stacking */
.attack-pile .card{
    position:static; /* allow flexbox layout */
    width: auto; /* size controlled by JS */
    height: auto;
    box-shadow: 0 8px 20px rgba(2,2,6,0.45);
    transform: translateY(0) scale(1);
    opacity: 1;
}

/* Enter animation for cards appended into the pile */
.card.entering{
    transform: translateY(-12px) scale(0.95);
    opacity: 0;
}
.attack-pile .card{
    transition: transform 260ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease;overflow: hidden;
}

.card .rank{font-size:20px;font-weight:700;color:rgb(36, 36, 36);}
.card .suit{font-size:18px;color:rgb(36, 36, 36);}
.card .center{font-size:44px;text-align:center}

.card.focused{transform:translateY(-18%);box-shadow:0 28px 70px rgba(139,92,246,0.5);z-index:80}
.card.selected{outline:3px solid rgba(255,255,255,0.06);box-shadow:0 22px 50px rgba(2,2,6,0.7)}

.card.dragging{transition:none;z-index:999;cursor:grabbing}

.player-cards-box{
    width: 100%;
    overflow: visible; /* Allow raised cards to overflow */
    height: max-content;
    position: relative;
    /* Space for raised cards */
    /* Space for push button */
}

/* Inner wrapper handles the scrolling */
.player-cards-scroll-wrapper {
    width: 100%;
    overflow-x: auto; /* Enable horizontal scrolling */
    overflow-y: hidden;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Hide scrollbar but keep scroll functionality */
.player-cards-scroll-wrapper::-webkit-scrollbar {
    display: none; /* Hide scrollbar for Webkit browsers */
}

.player-cards-scroll-wrapper {
    -ms-overflow-style: none;  /* Hide scrollbar for IE and Edge */
    scrollbar-width: none; /* Hide scrollbar for Firefox */
}

/* Scroll buttons for hand - positioned relative to game-table */
.hand-scroll-btn {
    position: absolute;
    top: auto;
    bottom: 100px; /* Position above the hand */
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, rgba(139,92,246,0.9), rgba(255,107,203,0.8));
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    color: white;
    font-size: 18px;
    cursor: pointer;
    z-index: 1009;
    display: none; /* Hidden by default */
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 16px rgba(139,92,246,0.5);
    transition: all 0.3s ease;
    opacity: 0;
    pointer-events: none;
}

.hand-scroll-btn.visible {
    display: flex;
    opacity: 1;
    pointer-events: auto;
}

.hand-scroll-btn:hover {
    transform: scale(1.15);
    box-shadow: 0 6px 24px rgba(139,92,246,0.7);
    background: linear-gradient(135deg, rgba(139,92,246,1), rgba(255,107,203,0.9));
}

.hand-scroll-btn:active {
    transform: scale(0.95);
}

.hand-scroll-left {
    left: 10px;
}

.hand-scroll-right {
    right: 10px;
}

/* Attack zone (top center) */
.attack-zone{
    position:absolute;
    top:0;
    left:0;
    bottom: 0;
    right:0;
    border-radius:12px;
    text-align: center;
    z-index:500;
    display:flex;align-items:center;justify-content:center;
    pointer-events:none;
    background: rgba(251, 193, 67, 0.05);;
    opacity:0;transition:opacity .18s ease, border-color .18s ease;
    border:2px dashed rgba(255, 209, 209, 0.09);
}
.attack-zone.active{opacity:1;pointer-events:auto}
.attack-zone.hover{border-color: rgba(139,92,246,0.9);background:linear-gradient(90deg, rgba(139,92,246,0.06), rgba(255,107,203,0.04))}

/* Narrative / tracking */
.cont-narrative{display:flex;flex-direction:column;gap:8px}
.game-comments{background:rgba(0,0,0,0.25);padding:8px;border-radius:8px;color:var(--muted);font-size:13px;max-height:70px;overflow:hidden}
.game-comments div{padding:4px 6px;border-radius:6px;background:rgba(255,255,255,0.02);margin-bottom:4px}
.game-comments.flash{animation:comment-flash 900ms ease both}

@keyframes comment-flash{
    0% { transform: translateY(-3px) scale(1); background-color: rgba(255,255,255,0.02); box-shadow: 0 0 0 rgba(0,0,0,0); }
    20% { transform: translateY(-6px) scale(1.02); background-color: rgba(255,255,255,0.05); box-shadow: 0 12px 30px rgba(139,92,246,0.3); }
    80% { transform: translateY(-2px) scale(1.01); background-color: rgba(255,255,255,0.03); box-shadow: 0 6px 18px rgba(139,92,246,0.1); }
 100% { transform: translateY(0) scale(1); background-color: rgba(0,0,0,0.25); box-shadow: 0 0 0 rgba(0,0,0,0); }
}

/* Attack confirm modal */
.attack-confirm-modal{
    position:absolute;
    left:50%;
    top:42%;
    transform:translateX(-50%);
    width:280px;
    height: 100px;
    /* max-width:90%; */
    padding:14px;
    border-radius:12px;
    background:rgba(255,255,255,0.7);
    border:1px solid rgba(255,255,255,0.8);
    box-shadow:0 18px 60px rgba(4,4,8,0.6);
    z-index:1200;
    display:flex;
    flex-direction:column;
    gap:10px;
    align-items:center;
    border-radius: 15px;
}
.attack-confirm-card{color:var(--muted);font-size:14px}
.attack-confirm-actions{display:flex;gap:8px}
.attack-confirm-actions .btn{padding:8px 12px;transform: scale(0.2);}

/* Flash/pulse for the proceed button in attack confirm modal */
.attack-confirm-modal #attack-confirm-proceed{
    animation: attack-proceed-flash 1200ms ease-in-out infinite;
    box-shadow: 0 10px 30px rgba(139,92,246,0.14);
}

@keyframes attack-proceed-flash{
    0% { transform: translateY(0); box-shadow: 0 6px 18px rgba(139,92,246,0.06); }
    50% { transform: translateY(-6px); box-shadow: 0 18px 44px rgba(139,92,246,0.18); }
 100% { transform: translateY(0); box-shadow: 0 6px 18px rgba(139,92,246,0.06); }
}
.tracking-badge{display:inline-block;padding:8px 10px;border-radius:999px;color:#111;font-weight:700;text-align:center;background:linear-gradient(90deg,#fff8cc,#ffd98a);box-shadow:0 6px 18px rgba(255,213,102,0.12);border:1px solid rgba(255,255,255,0.6)}
.tracking-badge.attack{background:linear-gradient(90deg,#ffd7d7,#ff9b9b);border-color:rgba(255,100,100,0.6)}
.tracking-badge.defend{background:linear-gradient(90deg,#d7fff5,#9bffd1);border-color:rgba(3,218,197,0.6)}
.tracking-badge.draw{background:linear-gradient(90deg,#e6e6ff,#bdb8ff);border-color:rgba(139,92,246,0.6)}
.tracking-badge.info{background:linear-gradient(90deg,#ffffff,#f1f1f1);border-color:rgba(255,255,255,0.4)}

/* Leaderboard (right column) */
.leaderboard{
    display:flex;flex-direction:column;gap:12px
}
.leaderboard .title{font-weight:700;color:var(--muted);margin-bottom:6px}
.leaderboard .row{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);margin-bottom:8px}
.leaderboard .row .player-left{display:flex;align-items:center;gap:10px}
.leaderboard .row .player-left .icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.02)}
.leaderboard .row.attacker{background:linear-gradient(90deg, rgba(139,92,246,0.06), rgba(255,107,203,0.03));border-color:rgba(139,92,246,0.12)}
.leaderboard .row.defender{background:linear-gradient(90deg, rgba(3,218,197,0.03), rgba(139,92,246,0.02));border-color:rgba(3,218,197,0.08)}
.leaderboard .row .role-badge{font-size:12px;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.03);color:var(--muted)}

/* Agent panel under cards */
.agent-panel{max-width:560px;width:90%;display:flex;align-items:flex-start;gap:12px;padding:12px 16px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 30px rgba(2,2,6,0.6)}
.agent-panel .agent-icon{font-size:22px;color:var(--accent-1);background:rgba(255,255,255,0.02);padding:8px;border-radius:10px}
.agent-panel .agent-text{color:var(--muted);font-size:14px}
/* .agent-panel{display: none;} */
.agent-panel{
    margin-bottom: -20px;
}
/* Defense selection visuals - highlight only, no raise */
.card.defense-first {
    box-shadow: 0 0 0 4px rgba(16,185,129,0.9), 0 0 30px rgba(16,185,129,0.7), 0 0 60px rgba(52,211,153,0.5) !important;
    border-color: rgba(255,255,255,0.9) !important;
    transform: scale(0.9);
    animation: defense-first-pulse 1.5s ease-in-out infinite;
}

.card.defense-second {
    box-shadow: 0 0 0 4px rgba(139,92,246,0.9), 0 0 30px rgba(139,92,246,0.7), 0 0 60px rgba(168,85,247,0.5) !important;
    border-color: rgba(255,255,255,0.9) !important;
    transform: scale(0.9);
    animation: defense-second-pulse 1.5s ease-in-out infinite;
}

@keyframes defense-first-pulse {
    0%, 100% { 
        box-shadow: 0 0 0 4px rgba(16,185,129,0.9), 0 0 30px rgba(16,185,129,0.7), 0 0 60px rgba(52,211,153,0.5);
    }
    50% { 
        box-shadow: 0 0 0 6px rgba(16,185,129,1), 0 0 40px rgba(16,185,129,0.9), 0 0 80px rgba(52,211,153,0.7);
    }
}

@keyframes defense-second-pulse {
    0%, 100% { 
        box-shadow: 0 0 0 4px rgba(139,92,246,0.9), 0 0 30px rgba(139,92,246,0.7), 0 0 60px rgba(168,85,247,0.5);
    }
    50% { 
        box-shadow: 0 0 0 6px rgba(139,92,246,1), 0 0 40px rgba(139,92,246,0.9), 0 0 80px rgba(168,85,247,0.7);
    }
}

/* Defend confirm button positioned above hand at bottom */
#defend-confirm-btn {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 24px;
    background: linear-gradient(135deg, rgba(16,185,129,0.9), rgba(52,211,153,0.8));
    border: 2px solid rgba(255,255,255,0.2);
    border-radius: 12px;
    color: white;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    z-index: 999;
    display: none;
    box-shadow: 0 8px 24px rgba(16,185,129,0.5), 0 0 20px rgba(52,211,153,0.3);
    transition: all 0.3s ease;
    animation: slideUpButton 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#defend-confirm-btn:hover {
    transform: translateX(-50%) translateY(-2px);
    box-shadow: 0 12px 32px rgba(16,185,129,0.7), 0 0 30px rgba(52,211,153,0.5);
    background: linear-gradient(135deg, rgba(16,185,129,1), rgba(52,211,153,0.9));
}

#defend-confirm-btn:active {
    transform: translateX(-50%) translateY(0);
}


/* Utility */
.muted{color:var(--muted)}
.user-progress-fill{min-width:25px}
/* Progress / winning trackers */
#leader-progess-bars-cont{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:12px}
.user-progress-bar-cont,.opponent-progress-bar-cont{display:flex;align-items:center;gap:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:8px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);width:320px;overflow:hidden}
.user-progress-bar-cont .user-icon,.opponent-progress-bar-cont .user-icon{width:44px;height:44px;border-radius:10px;background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));display:flex;align-items:center;justify-content:center;color:var(--muted)}
.user-progress-fill{flex:1;height:18px;border-radius:999px;background:linear-gradient(90deg,#ffd7d7,#ff9b9b);transition:width 600ms cubic-bezier(.2,.9,.2,1), box-shadow 350ms ease;display:block;position:relative;overflow:hidden}
.user-progress-text{width:48px;text-align:right;font-weight:700;color:var(--muted);margin-left:6px}

/* Winner style (green + shiny) */
.user-progress-fill.winner{background:linear-gradient(90deg,#7bed9f,#34d399);box-shadow:0 10px 30px rgba(52,211,153,0.3)}
.user-progress-fill.loser{background:linear-gradient(90deg,#ffb3b3,#ff6b6b);box-shadow:0 10px 30px rgba(255,99,71,0.3);}

/* container-level loser/winner accent */
.user-progress-bar-cont.winner .user-icon, .opponent-progress-bar-cont.winner .user-icon{box-shadow:0 8px 24px rgba(52,211,153,0.08);border:1px solid rgba(52,211,153,0.12)}
.user-progress-bar-cont.loser .user-icon, .opponent-progress-bar-cont.loser .user-icon{box-shadow:0 8px 24px rgba(255,99,71,0.08);border:1px solid rgba(255,99,71,0.12)}
.user-progress-bar-cont.loser{outline:2px solid rgba(255,99,71,0.06)}

/* small shimmer overlay */
.user-progress-fill::after{content:'';position:absolute;right:-40%;top:0;bottom:0;width:40%;background:linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02));transform:skewX(-18deg);opacity:0.6;pointer-events:none}

@media(max-width:900px){
    .app-grid{grid-template-columns:1fr;}
    .leaderboard{order:2}
}

/* Floating Draw Button */
.draw-button{
    position:fixed;
    right:20px;
    bottom:20px;
    width:64px;
    height:64px;
    border-radius:999px;
    z-index:3000;
    display:flex;
    align-items:center;
    justify-content:center;
    background:linear-gradient(180deg,#ffd54d,#ffb84d);
    color:#111;
    box-shadow:0 18px 50px rgba(255,184,77,0.18), 0 6px 18px rgba(0,0,0,0.35);
    border:1px solid rgba(255,255,255,0.12);
    cursor:pointer;
    font-weight:800;
}
.draw-button-wrapper{position:fixed;right:20px;bottom:20px;display:none;flex-direction:column;align-items:center;gap:6px;z-index:3000}
.draw-label{display:none;font-size:12px;color:var(--muted);background:rgba(0,0,0,0.22);padding:6px 8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
.draw-button .icon{font-size:20px}
.draw-button.flash{animation:draw-flash 1800ms ease-in-out infinite}
.draw-button.disabled{opacity:0.5;pointer-events:none;transform:scale(0.98)}
.mode-key{
    display: block !important;
}

.mode-caption-cont{
    position: absolute;
    top:65px;
    left:20px;
}
.mode-value{
    font-size: 12px;
    color:rgb(169, 169, 169);
}
@keyframes draw-flash{
    0%{transform:translateY(0) scale(1); box-shadow:0 10px 30px rgba(255,184,77,0.14)}
    50%{transform:translateY(-6px) scale(1.04); box-shadow:0 26px 60px rgba(255,184,77,0.22)}
 100%{transform:translateY(0) scale(1); box-shadow:0 10px 30px rgba(255,184,77,0.14)}
}

/* Ghost card animations (transient flying visuals) */
.card.ghost{
    position:fixed;
    width:120px;
    height:170px;
    border-radius:12px;
    pointer-events:none;
    z-index:4000;
    box-shadow:0 26px 60px rgba(2,2,6,0.55);
    transition: transform 520ms cubic-bezier(.2,.9,.2,1), opacity 420ms ease;
    will-change: transform, opacity;
}
.card.ghost .rank, .card.ghost .suit, .card.ghost .center{color:rgb(36,36,36)}
.card.ghost.entering{opacity:0.01;transform:translateY(-12px) scale(0.8)}
.card.ghost.visible{opacity:1}
.card.ghost.fade-out{opacity:0;transform:scale(0.9) translateY(6px)}

/* small easing for subtle bounce when arriving */
@keyframes ghost-arrive-bounce{
    0%{transform: translateY(-6px) scale(0.98)}
    60%{transform: translateY(2px) scale(1.02)}
    100%{transform: translateY(0) scale(1)}
}


